<ion-header>
  <ion-navbar color="primary">
    <button *ngIf="!showSearchBar" ion-button menuToggle icon-only>
      <ion-icon  name='menu'></ion-icon>
    </button>
    <ion-buttons start *ngIf="showSearchBar">
      <button ion-button icon-only (click)="hideSearchBar()" class="srbar-back-parent">
        <ion-icon name='arrow-back' id="srbar-back" class="srbar-back"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title *ngIf="!showSearchBar">
      Todo Grocery
    </ion-title>
    <ion-buttons end *ngIf="!showSearchBar">
      <button ion-button icon-only (click)="openSearchBar($event)">
          <ion-icon name="search"></ion-icon>
        </button>
      <button ion-button icon-only (click)="presentPopover($event)">
          <ion-icon name="more"></ion-icon>
        </button>
    </ion-buttons>
    <ion-buttons end *ngIf="showSearchBar" style="width: 100%;">
      <ion-searchbar class="search-bar" id="srbar" (input)="getItems($event)"></ion-searchbar>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-menu [content]="content">
  <tg-menu (onChange)="changeCurrentList($event)" (closeDrawer)="closeMenuDrawer()"></tg-menu>
</ion-menu>
<ion-content #popoverContent #content padding class="popover-page">
  <div #popoverText class="text-to-change">
    <ion-list>
      <ion-item-sliding *ngFor="let item of listItems">
        <button ion-item (click)="checkItem(item)">
          <ion-grid>
            <ion-row>
              <ion-col width-75>{{item.name}}</ion-col>
              <ion-col width-25>{{item.quantity}} {{glo.mapUnitsInNumber(item.unit)}}</ion-col>
            </ion-row>
          </ion-grid>
          <div class="check-item" *ngIf="item.isChecked"></div>
        </button>
        <ion-item-options side="right">
          <button ion-button color="danger" on-tap="deleteItem(item)">
        <ion-icon name="trash"></ion-icon>
        Delete
      </button>
        </ion-item-options>
      </ion-item-sliding>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="getMoreItems($event)">
      <ion-infinite-scroll-content loadingSpinner="bubbles"
      loadingText="Loading more data..."></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>
  <ion-fab right bottom>
    <button color="primary" ion-fab (click)="addItem($event)"><ion-icon name="add"></ion-icon></button>
  </ion-fab>
</ion-content>
